<ui:FluentWindow x:Class="ItemEditor.Dialogs.AboutWindow"
                xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
                xmlns:vm="clr-namespace:ItemEditor.ViewModels"
                mc:Ignorable="d"
                Title="About ItemEditor"
                Style="{StaticResource DialogWindowStyle}"
                Width="600" Height="700"
                WindowStartupLocation="CenterOwner"
                ResizeMode="NoResize"
                ShowInTaskbar="False"
                Icon="pack://application:,,,/Resources/ItemEditor.ico">
    
    <Window.DataContext>
        <vm:AboutViewModel/>
    </Window.DataContext>
    
    <Grid Margin="24">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Header Section -->
        <ui:Card Grid.Row="0" Style="{StaticResource ElevatedCardStyle}" Margin="0,0,0,16">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <!-- Application Icon -->
                <Image Grid.Column="0"
                       Source="pack://application:,,,/Resources/ItemEditor.ico"
                       Width="64" Height="64"
                       Margin="0,0,16,0"
                       VerticalAlignment="Top"/>
                
                <!-- Application Info -->
                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                    <ui:TextBlock Text="{Binding ApplicationName}"
                                  FontTypography="TitleLarge"
                                  FontWeight="Bold"
                                  Margin="0,0,0,4"/>
                    
                    <ui:TextBlock Text="{Binding Description}"
                                  Style="{StaticResource DescriptionTextStyle}"
                                  TextWrapping="Wrap"
                                  Margin="0,0,0,8"/>
                    
                    <StackPanel Orientation="Horizontal">
                        <ui:TextBlock Text="{Binding Version, StringFormat='Version {0}'}"
                                      Style="{StaticResource AdaptiveCaptionStyle}"
                                      Margin="0,0,16,0"/>
                        <ui:TextBlock Text="{Binding BuildDate, StringFormat='Built {0}'}"
                                      Style="{StaticResource AdaptiveCaptionStyle}"/>
                    </StackPanel>
                    
                    <ui:TextBlock Text="{Binding Copyright}"
                                  Style="{StaticResource AdaptiveCaptionStyle}"
                                  Margin="0,4,0,0"/>
                </StackPanel>
            </Grid>
        </ui:Card>
        
        <!-- Content Tabs -->
        <TabControl Grid.Row="1" Style="{StaticResource {x:Type TabControl}}">
            
            <!-- System Information Tab -->
            <TabItem Header="System Information">
                <ScrollViewer Style="{StaticResource ModernScrollViewerStyle}" Padding="8">
                    <StackPanel>
                        
                        <!-- Runtime Information -->
                        <ui:Card Style="{StaticResource CompactCardStyle}" Margin="0,0,0,16">
                            <StackPanel>
                                <ui:TextBlock Text="Runtime Information"
                                              Style="{StaticResource SectionHeaderStyle}"/>
                                
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="150"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>
                                    
                                    <ui:TextBlock Grid.Row="0" Grid.Column="0" Text=".NET Version:"
                                                  Style="{StaticResource PropertyLabelStyle}"/>
                                    <ui:TextBlock Grid.Row="0" Grid.Column="1" Text="{Binding FrameworkVersion}"
                                                  Style="{StaticResource AdaptiveBodyStyle}"/>
                                    
                                    <ui:TextBlock Grid.Row="1" Grid.Column="0" Text="Operating System:"
                                                  Style="{StaticResource PropertyLabelStyle}"/>
                                    <ui:TextBlock Grid.Row="1" Grid.Column="1" Text="{Binding OperatingSystem}"
                                                  Style="{StaticResource AdaptiveBodyStyle}"/>
                                    
                                    <ui:TextBlock Grid.Row="2" Grid.Column="0" Text="Architecture:"
                                                  Style="{StaticResource PropertyLabelStyle}"/>
                                    <ui:TextBlock Grid.Row="2" Grid.Column="1" Text="{Binding Architecture}"
                                                  Style="{StaticResource AdaptiveBodyStyle}"/>
                                </Grid>
                            </StackPanel>
                        </ui:Card>
                        
                        <!-- Dependencies -->
                        <ui:Card Style="{StaticResource CompactCardStyle}" Margin="0,0,0,16">
                            <StackPanel>
                                <ui:TextBlock Text="Key Dependencies"
                                              Style="{StaticResource SectionHeaderStyle}"/>
                                
                                <StackPanel>
                                    <Grid Margin="0,0,0,8">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="150"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        
                                        <ui:TextBlock Grid.Column="0" Text="WPF-UI:"
                                                      Style="{StaticResource PropertyLabelStyle}"/>
                                        <ui:TextBlock Grid.Column="1" Text="3.0.5"
                                                      Style="{StaticResource AdaptiveBodyStyle}"/>
                                    </Grid>
                                    
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="150"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        
                                        <ui:TextBlock Grid.Column="0" Text="CommunityToolkit.Mvvm:"
                                                      Style="{StaticResource PropertyLabelStyle}"/>
                                        <ui:TextBlock Grid.Column="1" Text="8.2.2"
                                                      Style="{StaticResource AdaptiveBodyStyle}"/>
                                    </Grid>
                                    
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="150"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        
                                        <ui:TextBlock Grid.Column="0" Text="Microsoft.Extensions.Hosting:"
                                                      Style="{StaticResource PropertyLabelStyle}"/>
                                        <ui:TextBlock Grid.Column="1" Text="9.0.0"
                                                      Style="{StaticResource AdaptiveBodyStyle}"/>
                                    </Grid>
                                </StackPanel>
                            </StackPanel>
                        </ui:Card>
                        
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
            
            <!-- License Tab -->
            <TabItem Header="License">
                <ui:Card Style="{StaticResource CompactCardStyle}">
                    <ScrollViewer Style="{StaticResource ModernScrollViewerStyle}">
                        <ui:TextBlock Text="{Binding LicenseText}"
                                      FontFamily="Consolas, 'Courier New', monospace"
                                      FontSize="11"
                                      Style="{StaticResource AdaptiveBodyStyle}"
                                      TextWrapping="Wrap"/>
                    </ScrollViewer>
                </ui:Card>
            </TabItem>
            
            <!-- Contributors Tab -->
            <TabItem Header="Contributors">
                <ScrollViewer Style="{StaticResource ModernScrollViewerStyle}" Padding="8">
                    <StackPanel>
                        <ui:TextBlock Text="Special thanks to all contributors who made this project possible:"
                                      Style="{StaticResource DescriptionTextStyle}"
                                      TextWrapping="Wrap"
                                      Margin="0,0,0,8"/>
                        
                        <ItemsControl ItemsSource="{Binding Contributors}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <ui:Card Style="{StaticResource CompactCardStyle}" Margin="0,0,0,8">
                                        <StackPanel>
                                            <ui:TextBlock Text="{Binding Name}"
                                                          Style="{StaticResource SubsectionHeaderStyle}"/>
                                            
                                            <ui:TextBlock Text="{Binding Role}"
                                                          Style="{StaticResource AdaptiveCaptionStyle}"
                                                          Margin="0,0,0,4"/>
                                            
                                            <StackPanel Orientation="Horizontal">
                                                <ui:HyperlinkButton Content="{Binding Email}"
                                                                    NavigateUri="{Binding Email, StringFormat='mailto:{0}'}"
                                                                    Visibility="{Binding Email, Converter={StaticResource StringToVisibilityConverter}}"
                                                                    FontSize="12"
                                                                    Margin="0,0,16,0"/>
                                                
                                                <ui:HyperlinkButton Content="{Binding Website}"
                                                                    NavigateUri="{Binding Website}"
                                                                    Visibility="{Binding Website, Converter={StaticResource StringToVisibilityConverter}}"
                                                                    FontSize="12"/>
                                            </StackPanel>
                                        </StackPanel>
                                    </ui:Card>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
            
        </TabControl>
        
        <!-- Footer Buttons -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,16,0,0">
            <ui:Button Content="Copy System Info"
                       Style="{StaticResource SecondaryButtonStyle}"
                       Click="OnCopySystemInfoClick"
                       Margin="0,0,8,0"/>
            
            <ui:Button Content="Close"
                       Style="{StaticResource PrimaryButtonStyle}"
                       IsDefault="True"
                       Click="OnCloseClick"/>
        </StackPanel>
    </Grid>
</ui:FluentWindow>